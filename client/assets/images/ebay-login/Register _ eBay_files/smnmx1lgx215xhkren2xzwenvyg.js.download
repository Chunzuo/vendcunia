$(window).load(function(){try{var c=jQuery.parseJSON(dfpContext),a=null,a=$("#socialRegForm").is(":visible")?$("#socialRegForm"):$("#BusinessRegForm").is(":visible")?$("#BusinessRegForm"):$("#ppaRegForm"),d=new DFP(a,c),b;$("#ppaRegForm,#BusinessRegForm,#socialRegForm").submit(function(){try{"undefined"===typeof b&&(b=d.getFingerPrintDetails()),$("input#tagInfo").val(b.tagInfo)}catch(a){console.log("exception in calling DFP Lib"+a)}})}catch(e){console.log("exception in calling DFP Lib"+e)}objectAltTimeout=
setTimeout(function(){$("object#flash_flashkrb").is(":visible")&&($("object#flash_flashkrb").attr("alt","Device Finger Printing ID Map"),$("object#flash_flashkrb").attr("tabindex","-1"),clearTimeout(objectAltTimeout))},3E3)});var defaultOptions;
(function(){function j(a){if(document.selection){var e=document.selection.createRange(),d=e.text.length;e.moveStart("character",-a.val().length);a=e.text.length;return[a-d,a,d]}d=a.get(0);return[d.selectionStart,d.selectionEnd,d.selectionEnd-d.selectionStart]}function k(a,e){var d=a.get(0);document.selection?(d=d.createTextRange(),d.collapse(),d.moveStart("character",e[0]),d.moveEnd("character",e[1]-e[0]),d.select()):(d.selectionStart=e[0],d.selectionEnd=e[1])}jQuery.fn.dPassword=function(a){function e(b){if(_observing){_timeout&&
(clearTimeout(_timeout),_timeout=null);var f=j(c);jQuery.browser.msie?l("password"):c.get(0).setAttribute("type","password");c.val(_observing?_value:c.val());document.activeElement&&document.activeElement==c&&k(c,f);if(!0!==b&&(_observing=!1,_toggleIcon&&m(!1),a.onStateChange))a.onStateChange(_observing,this,_toggleIcon)}}function d(b){if(_observing)if(!(9<=b.keyCode&&20>=b.keyCode||33<=b.keyCode&&40>=b.keyCode||224==b.keyCode)&&!b.metaKey&&!b.ctrlKey){var c=null;for(c in _keysDown)h(c);g();c||(_timeout=
setTimeout(i,1E3*a.delay));10<b.keyCode&&(_keysDown[b.keyCode]=!0)}else g(),_timeout&&(clearTimeout(_timeout),_timeout=null,i())}function o(b){if(_observing)if("paste"==b.type)setTimeout(h,0);else{if(!(9<=b.keyCode&&20>=b.keyCode||33<=b.keyCode&&40>=b.keyCode||224==b.keyCode)&&!b.metaKey&&!b.ctrlKey)(_keysDown[b.keyCode]||11>b.keyCode)&&h(b)}else if(b=c.val(),b!=_previousInputValue&&(_previousInputValue=b,a.onChange))a.onChange(_observing?_value:c.val())}function h(b){delete _keysDown[b];var b=c.val(),
f=j(c);if(_previousInputValue!=b){var d=_previousSelection[0],e=_previousSelection[1],h=_previousSelection[2],g=b.length-_value.length;_value=0>g&&0==h?d==f[0]?_value.substring(0,d)+_value.substring(e+1):_value.substring(0,f[0])+_value.substring(e):_value.substring(0,d)+b.substring(d,f[1])+_value.substring(e);if(a.onChange)a.onChange(_observing?_value:c.val());_timeout&&(clearTimeout(_timeout),_timeout=null);0<=g&&(i([d+1,f[1]]),_timeout=setTimeout(i,1E3*a.delay))}else _previousSelection=f}function n(b){b.bind("keydown.dPassword",
d);b.bind("keyup.dPassword paste.dPassword",o);b.bind("select.dPassword focus.dPassword",g);a.switchToPasswordType&&c.bind("blur.dPassword",function(){e(!0)})}function g(){_observing&&(_previousSelection=j(c))}function i(b){var d=j(c),e=c.val();b?c.val(e.substring(0,b[0]-1).replace(/./g,a.cloakingCharacter)+e.substring(b[0]-1,b[1])+e.substring(b[1]).replace(/./g,a.cloakingCharacter)):(c.val(e.replace(/./g,a.cloakingCharacter)),"text"!=c.attr("type")&&(jQuery.browser.msie?l("text"):c.get(0).setAttribute("type",
"text"),c.attr("autocomplete","off")));document.activeElement&&document.activeElement==c.get(0)&&k(c,d);_previousInputValue=c.val()}function l(b){var a=_inputFieldTypes[b];a||(a=c.clone().wrap("<div></div>").parent(),"password"==b?a.html(a.html().replace(/type="?text"?/,'type="password"')):a.html(a.html().replace(/type="?password"?/,'type="text"')),a=a.children(),n(a));var d=c;d.get(0).replaceNode(a.get(0));c=a;c.val(d.val());_inputFieldTypes||(_inputFieldTypes={password:"password"==b?a:d,text:"password"==
b?d:a})}function m(b){b?(_toggleIcon.css(a.ICON_STYLES_OFF).css({className:"dpassword-lock-closed"}),_toggleIcon.attr("title",a.ICON_TITLE_ON)):(_toggleIcon.css(a.ICON_STYLES_ON).css({className:"dpassword-lock-closed"}),_toggleIcon.attr("title",a.ICON_TITLE_OFF))}if(1<this.length)return this.each(function(){jQuery(this).dPassword(a)}),this;a=jQuery.extend(defaultOptions,a);a.cloakingCharacter=a.cloakingCharacter.charAt(0);var c=$(this);_options=_previousSelection=_timeout=_previousInputValue=_value=
null;_observing=!1;_toggleIcon=_form=null;_keysDown={};_inputFieldTypes={};n(c);if(a.observeForm||a.form)_form||(_form=a.form?$(a.form):c.closest("form")),_form&&_form.bind("submit.dPassword",function(){e(!0)});(function(){_observing=!0;_value=c.val();i();_toggleIcon&&m(!0);if(a.onStateChange)a.onStateChange(_observing,this,_toggleIcon)})();return this};defaultOptions={delay:1,observeForm:!0,form:null,cloakingCharacter:"MacIntel"==navigator.platform?"\u2022":"\u25cf",onChange:null,onStateChange:null,
showIcon:!0,switchToPasswordType:!jQuery.browser.msie,ICON_TITLE_ON:"Delayed masking active, click here to switch off.",ICON_TITLE_OFF:"Click to activate delayed masking of input.",ICON_STYLES:{display:"inline",position:"absolute",width:"16px",height:"16px",margin:"-10px 0 0 -12px",overflow:"hidden",cursor:"pointer",backgroundRepeat:"no-repeat"},ICON_PATH:"lock.gif",ICON_STYLES_OFF:{backgroundPosition:"0 0"},ICON_STYLES_ON:{backgroundPosition:"0 -16px"}}})();$(document).ready(function(){var b=inflowPhoneConfUrl,a=$("#inflowHelpPhonConf").val(),a=JSON.parse(a),a=JSON.stringify(a),b=b+"/ocsrsapp/o2/inflow/inflowcomponent?input="+encodeURIComponent(a)+"&callback=Inflow.cb";$.getScript(b)});raptor.defineClass("autocomplete_email",function(){var h=function(a){a.keys={UP:38,DOWN:40,ENTER:13,ESC:27,ZERO:48,SPACE:32,BSPACE:8,DEL:46,CTRL:17,TAB:9,RARROW:39,LARROW:37};a.noEventKeys={RARROW:37,LARROW:39,BSPACE:8,DEL:46,TAB:9,SPACE:32};this.attachevents(a)};h.prototype={attachevents:function(a){var c=a.parsedDomainList.split(", ");this.handleEmailFieldOnKeyUp(a,c,this);this.handleEmailFieldOnOtherKeys(a,this);this.handleEmailFieldOnBlur(a,this);this.handleEmailSuggestionTapInMobile(a,this);
a.isSir?this.handleTextboxPositionForNoPlaceholderSupport(a.suggestion):a.hideLabel||this.moveTextboxDownIfLabelIsShown(a.suggestion)},handleEmailFieldOnKeyUp:function(a,c){var f=this,g=a.email,d=a.suggestion,b=a.noEventKeys;$("#"+g).keyup(function(e){var m=$("#"+d),e=e.keyCode?e.keyCode:e.which,h=$(this).val();if(!$.trim(h).length)return f.emptyTheHelpTextboxes(a),!1;var i=$("#"+g).val(),i=i.toLowerCase(),l=i.indexOf("@"),k=0,j=0;if(/./.test(String.fromCharCode(e))&&!(e==b.SPACE||e==b.BSPACE||e==
b.DEL||e==b.LARROW||e==b.RARROW||e==b.TAB))if(-1!=l&&i.length>i.substring(0,l+1).length)for(j=0;j<c.length;j++){var n=i.substring(l+1,i.length),o=c[j].indexOf(n);0==o&&(k=h+c[j].substring(o+n.length,c[j].length),m.val(k),$("#email-domain-"+d).text($("#email-domain-"+d+"-label").text()+" "+k),k=1);if(1==k)break;else f.emptyTheHelpTextboxes(a)}else f.emptyTheHelpTextboxes(a);if(e==b.BSPACE||e==b.DEL)m.val($(this).val()),$("#email-domain-"+d).text("");e==b.SPACE&&f.emptyTheHelpTextboxes(a)})},handleEmailFieldOnOtherKeys:function(a){var c=
this,f=a.suggestion,g=a.keys;$("#"+a.email).keydown(function(d){var b=$("#"+f),e=d.keyCode?d.keyCode:d.which;if(e==g.ENTER||e==g.TAB||e==g.RARROW)null==b.val()||(""==b.val()||"undefined"==b.val()||b.val()==$(this).val())||(d.preventDefault()?d.preventDefault():d.returnValue=!1,$(this).val(b.val()),c.emptyTheHelpTextboxes(a),c.trackingCall($(this).val(),$(this).attr("id")))})},handleEmailFieldOnBlur:function(a){var c=this,f=a.suggestion,g=a.isMobile;$("#"+a.email).blur(function(d){if(g){var b=$("#"+
f);null==b.val()||(""==b.val()||"undefined"==b.val()||b.val()==$(this).val())||(d.preventDefault()?d.preventDefault():d.returnValue=!1,$(this).val(b.val()),c.emptyTheHelpTextboxes(a),c.trackingCall($(this).val(),$(this).attr("id")))}else c.emptyTheHelpTextboxes(a)})},handleEmailSuggestionTapInMobile:function(a){var c=this,f=a.email,g=a.suggestion;if(a.isMobile)$("#"+f).on("touchstart",function(d){var b=$("#"+g);if(!(null===b.val()||""===b.val()||"undefined"===b.val()||b.val()===$(this).val())){d.preventDefault()?
d.preventDefault():d.returnValue=!1;var e=c.getXPosOfInputValue(b),h=c.getXPosOfInputValue($("#"+f)),d=d.originalEvent.targetTouches[0].pageX;d>=h&&d<=e&&($(this).val(b.val()),c.emptyTheHelpTextboxes(a),c.trackingCall($(this).val(),$(this).attr("id")))}})},getXPosOfInputValue:function(a){var c=parseInt(a.css("padding-left").replace("px","")),f=a.offset().left,g=document.createElement("span");g.style='font-size: 16px;font-family:"Helvetica neue",Helvetica,Arial,Sans-serif;';$("body").append(g);g.innerHTML=
a.val();a=f+c+g.offsetWidth;$(g).remove();return a},emptyTheHelpTextboxes:function(a){a=a.suggestion;$("#"+a).val("");$("#email-domain-"+a).text("")},handleTextboxPositionForNoPlaceholderSupport:function(a){jQuery.support.placeholder=!1;test=document.createElement("input");"placeholder"in test&&(jQuery.support.placeholder=!0);$.support.placeholder||moveTextboxDownIfLabelIsShown(a)},moveTextboxDownIfLabelIsShown:function(a){var c=$("#"+a).attr("class");$("#"+a).attr("class",c+" t19")},trackingCall:function(a,
c){var f=a.indexOf("@"),f={mode:"22",imp:"5204",params0:a.substring(f+1,a.length),params1:c};$.ajax({url:"ajax",type:"POST",data:f,success:function(){}})}};return h});var pubsub=raptor.require("raptor/pubsub"),PolyfillAttributesInPwd={STATE:"state",RULE_NAME:"ruleName",RULES_PASSED:"rulesPassed",REQUIRED_RULES:"requiredRules"};
raptor.defineClass("password_withcompositionds6",function(){var i=function(a){a.pwdHelper=a.id+"_helper";a.pwdRulesCount=$("#"+a.pwdHelper).find("span.pwd-req[data-rule-name]").length;a.trackingInfo&&(a.trackingInfo=a.trackingInfo.replace(/\'/g,'"'),a.trackingInfo=JSON.parse(a.trackingInfo));a.eventNs="."+a.id;var b=raptor.require("FormUtils");a.formUtils=new b;a.ajaxRequestSequenceNum=0;a.currProcessingAjaxRequestNum=0;this.attachevents(a)};i.prototype={attachevents:function(a){this.handlePasswordFocus(a,
this);this.handlePasswordOnBlur(a,this);this.handlePasswordOnKeyup(a,this);this.handleDocumentReadyFunction(a);a.formUtils.setPolyfillAttributeValue(document.getElementById(a.id),PolyfillAttributesInPwd.REQUIRED_RULES,a.pwdRulesCount)},triggerAjax:function(a,b,c,e,d){var f=b.id,l=b.pwdHelper,m=document.querySelector("#"+f);++b.ajaxRequestSequenceNum;b.formUtils.triggerAjaxWithHandler(b.id,c,e,function(c,d){if(d>b.currProcessingAjaxRequestNum){b.currProcessingAjaxRequestNum=d;var i=c.content,g=$("#"+
l).find("span.pwd-req[data-rule-name]"),j=c.matchedPwdRules,n=0;jQuery.each(g,function(a,c){var d=b.formUtils.getPolyfillAttributeValue(c,PolyfillAttributesInPwd.RULE_NAME);j&&-1<j.indexOf(d)?($(c).hide(),$(c).removeClass("dPreq"),$(c).removeClass("lPreq")):(0==n?$(c).html(pwdReqUpMap[d]):$(c).html(pwdReqLowMap[d]),$(c).addClass("dPreq"),$(c).removeClass("lPreq"),$(c).show(),n+=1)});$("#"+l).find("span.pwd-req.dPreq:last").addClass("lPreq");g=j?j.length:0;b.formUtils.setPolyfillAttributeValue(m,PolyfillAttributesInPwd.RULES_PASSED,
g);var o=g==b.pwdRulesCount,g=$("#"+b.pwdHelper).is(":visible"),k=$("#"+l).find("div.inline-error span"),p=!1,q="#"+f+"_w",h=null;if(i)jQuery.each(i,function(a,b){-1<a.indexOf("PASSWORD")&&($(q).html(b),h=o||e?"error":"inactive");"PWD_INLINE_ERROR"===a&&b&&(p=!0,k.html(b),k.show())});else if((c.success||c.timeout)&&o)h="valid";o?a.closePasswordHelper(b):(!p||"error"!=h)&&$(m).is(":focus")&&!g&&a.showPasswordHelper(b);null!==h&&(b.formUtils.setPolyfillAttributeValue(m,PolyfillAttributesInPwd.STATE,
h),b.formUtils.adjustFieldAppearance(b.id,h,f+"_w"));p||(k.html(""),k.hide());pubsub.publish("reg.inputStateChanged")}},d,b.ajaxRequestSequenceNum,b.trackingInfo)},handleDocumentReadyFunction:function(a){var b=a.id;this.bindShowHidePassword("#show"+b,"#"+b);$(document).ready(function(){$("#show"+b).ruiCheckbox();if(!userBrowser.startsWith("IE8")||!userBrowser.startsWith("IE9")){var a=$("#show"+b).width()+20;$("#"+b).css("padding-right",a+"px")}$("#PASSWORD_helper .pwd-req.dPreq:last-child").addClass("lPreq")})},
bindShowHidePassword:function(a,b){$(a).on("checkboxClick",function(a){var e=$(this).ruiCheckbox("getCheckedValue")?"text":"password",d=$(b).clone(!0,!1);d.attr("type",e);$(b).replaceWith(d);a.stopImmediatePropagation()})},handlePasswordOnBlur:function(a){var b=this,c=a.id;$("#"+c).on("blur",function(e){var d=document.querySelector("#"+c);$("#"+c).val().trim()||$("#"+c).parent().find("#lbl"+c).removeClass("small-text").addClass("regular-text");a.formUtils.floatLabel(c);b.performTracking(a,c);d=a.formUtils.getPolyfillAttributeValue(d,
PolyfillAttributesInPwd.RULES_PASSED);parseInt(d)===a.pwdRulesCount&&b.validatePasswordOnBlur(a);e.stopImmediatePropagation()})},performTracking:function(a,b){$("#"+b).val().trim()&&"1"==$("#"+b).attr("t")&&("undefined"!=typeof trackFld&&trackFld)&&a.formUtils.populateUrl(b,a.trackingInfo)},validatePasswordOnBlur:function(a){var b=a.id,c="#"+b+"_w",e=document.querySelector("#"+b),d=null;0<$(e).val().length?(this.triggerAjax(this,a,25,!0,a.ajaxTimeout),this.performTracking(a,b)):($(c).html(emptyMap[b]),
d="error");null!==d&&(a.formUtils.setPolyfillAttributeValue(e,PolyfillAttributesInPwd.STATE,d),a.formUtils.adjustFieldAppearance(b,d,b+"_w"));pubsub.publish("reg.inputStateChanged")},handlePasswordOnKeyup:function(a){var b=a.id,c=this,e=$("#"+b).val();$("#"+b).on("input keyup",function(d){if(!(d.shiftKey&&9===d.which)&&9!==d.which&&16!==d.which){a.formUtils.floatLabel(b);if($(this).val()===e)return d.stopImmediatePropagation(),!1;e=$(this).val();0<$(this).val().length&&a.formUtils.setPolyfillAttributeValue(this,
PolyfillAttributesInPwd.STATE,"inactive");c.triggerAjax(c,a,25,!1,0);d.stopImmediatePropagation()}})},handlePasswordFocus:function(a){var b=a.id,c=this;$("#"+b).on("focus",function(e){var d=document.querySelector("#"+b),d=a.formUtils.getPolyfillAttributeValue(d,PolyfillAttributesInPwd.RULES_PASSED),f=$("#"+b).parent();f.find("#lbl"+b).removeClass("regular-text").addClass("small-text");f.addClass("expanded");parseInt(d)!==a.pwdRulesCount&&(a.formUtils.adjustFieldAppearance(b,"valid",b+"_w"),c.showPasswordHelper(a),
$(this).attr("aria-describedby",a.pwdHelper),pubsub.publish("reg.inputStateChanged"),e.stopImmediatePropagation())})},showPasswordHelper:function(a){var b=this;$("#"+a.pwdHelper).css("display","block");$("#"+a.pwdHelper).show();$("#"+a.pwdHelper).attr("aria-hidden","false");$("#"+a.id).attr("style","padding-right: "+$("#"+a.id).css("padding-right"));var c=!0;$("html").on("click"+a.eventNs,function(e){c=!1;if(e.target&&e.target.id===a.id)return!1;c||(b.closePasswordHelper(a),b.validatePasswordOnBlur(a))});
$("body").on("focusin"+a.eventNs,function(e){c=!1;if(b.canClosePasswordHelperDuringFocusin(a,e)&&!c)b.closePasswordHelper(a),b.validatePasswordOnBlur(a);else return!1;e.stopImmediatePropagation()});$("#"+a.id).focusin(function(a){a.stopPropagation()});$("#"+a.pwdHelper).focusin(function(a){a.stopPropagation()});$("#show"+a.id+"_wrp").focusin(function(a){a.stopPropagation()})},canClosePasswordHelperDuringFocusin:function(a,b){var c=!1;if(b.relatedTarget&&0==b.relatedTarget.id.length||null===b.relatedTarget)c=
!0;if(b.relatedTarget&&b.relatedTarget.id===a.id||null===b.relatedTarget)c=b.target&&"mainContent"===b.target.id?!1:!0;return c},closePasswordHelper:function(a){$("#"+a.pwdHelper).css("display","none");$("#"+a.pwdHelper).hide();$("#"+a.pwdHelper).attr("aria-hidden","true");$("#"+a.id).attr("style","padding-right: "+$("#"+a.id).css("padding-right"));$("html").off(a.eventNs);$("body").off(a.eventNs)}};return i});